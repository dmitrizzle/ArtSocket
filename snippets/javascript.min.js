function isRetina(){return window.matchMedia&&(window.matchMedia("only screen and (min-resolution: 192dpi), only screen and (min-resolution: 2dppx), only screen and (min-resolution: 75.6dpcm)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1), only screen and (min--moz-device-pixel-ratio: 2), only screen and (min-device-pixel-ratio: 2)").matches)||window.devicePixelRatio&&window.devicePixelRatio>2}function rS(){resizeHeader()}function trackingAndTags(){new Request({url:location.pathname,onSuccess:function(e){var t=(new DOMParser).parseFromString(e,"text/html");document.title=t.getElementsByTagName("title")[0].innerHTML||"ArtSocket";var o=t.getElementsByTagName("meta");for(i=0,n=o.length;i<n;i++){if(!$$('meta[property="og:image"]')[0])return;if("og:image"==o[i].getAttribute("property")){var r=o[i].content;r.contains(urlDomain)||(r=urlDomain+r),$$('meta[property="og:image"]')[0].set("content",r)}}var a=t.getElementsByTagName("link");for(i=0,n=a.length;i<n;i++)"canonical"==a[i].getAttribute("rel")&&whatIsCanonical().set("href",a[i].href);"function"==typeof ga&&ga("send","pageview",{page:location.pathname,title:document.title}),socialActions(),console.log("tracking & social actions updated")}}).send()}function historyGo(e,t){e=prettyAjaxUrl(e),history.pushState(null,e,e),trackingAndTags(),hI++,console.log("hI: "+hI),historyUrls[hI]=e,console.log(historyUrls),returnActions[hI]=t.returnAction||nullFn,console.log(returnActions)}function prettyAjaxUrl(e){return e=e.replace("&ajax_request=true","").replace("?ajax_request=true","").replace(urlDomain,""),e.contains("/process-email.php")&&(e="/subscribe/"),e.contains("http")||e.contains("//")?void 0:e}function is_touch_device(){return"ontouchstart"in window?1:0}function sC(){(headerVisibilityLogic||Function)(),mainHeader&&(domready&&lightHeader&&window.getScroll().y>10?mainHeader.removeClass("light"):domready&&lightHeader&&mainHeader.addClass("light"))}function sCEnd(){}function read(e){domready&&(window.getScroll().y<wS().y/3||e)?e?scrl.start(0,$(e).getPosition().y):scrl.start(0,wS().y):scrl.toTop()}function notify(e,t){killNotify(),"undefined"==typeof t&&function(){killNotify()}.delay(5500);var n=new Element("aside",{"class":"alert animateAll",role:"note",id:"notification",title:"Click or tap this message to close it"}),i=new Element("p",{role:"alert",html:e});domready&&n.inject($$("body > header > div")[0],"after"),i.inject(n);var o=$("notification");o.addEvent("click",killNotify);var r=o.getSize().y;o.setStyle("height",0).addClass("animateAll"),function(){o.setStyle("height",r)}.delay(500),void 0!=$$("#notification p span")[0]&&""!=$$("#notification p span")[0].get("data-type")&&o.addClass($$("#notification p span")[0].get("data-type"))}function killNotify(){$("notification")&&($("notification").setStyle("height",0),function(){$("notification").destroy()}.delay(500))}function doNotSteal(e,t){e.each(function(e){t&&e.addEvent("contextmenu",function(e){e.preventDefault()}),e.ondragstart=function(e){e.preventDefault(),this.fireEvent("contextmenu",e)}})}function pinchZoomedIn(){return condition=!1,document.documentElement.clientWidth/window.innerWidth>1&&(condition=!0),condition}function li(e,t){e.get("class")&&(e.get("class").test("read")||e.get("class").contains("leftArrow")||e.get("class").contains("rightArrow"))||e.get("href").contains("://")||e.get("href").contains("javascript:")||"_blank"==e.get("target")||(t.stop(),liFx(e.get("href")))}function liFx(e){"function"==typeof loadingAnimation&&loadingAnimation(),"function"==typeof showHeader&&showHeader(),e&&function(){window.location=e}.delay(350)}function whatIsCanonical(){for(var e,t=$$("link"),n=0;n<t.length;n++)"canonical"===t[n].get("rel")&&(e=t[n]);return e}function socialActions(){$$(".social.facebook").removeEvents("click").addEvent("click",function(e){e.stop(),window.open("https://www.facebook.com/sharer/sharer.php?u="+whatIsCanonical().get("href"),"","width=640, height=400")}),$$(".social.twitter").removeEvents("click").addEvent("click",function(e){e.stop(),shareTweet=encodeURIComponent(document.title),shareTweet=shareTweet.replace("%20%7C%20ArtSocket%20Art%20Gallery",""),window.open("https://twitter.com/intent/tweet?text="+shareTweet+"&url="+whatIsCanonical().get("href")+"&hashtags=artsocket&related=artsocket","","width=640, height=400")}),$$(".social.pinterest").removeEvents("click").addEvent("click",function(e){e.stop(),"undefined"!=typeof currentSlide?pinterestMedia="https://www.artsocket.com"+imageDir+largeImageP+sliderImage[currentSlide].get("data-image"):"undefined"!=typeof $$('meta[property="og:image"]')[0]?pinterestMedia=$$('meta[property="og:image"]').get("content")[0]:pinterestMedia="https://www.artsocket.com/images/content/pages/mag-poster.jpg",pinterestMedia=encodeURIComponent(pinterestMedia),$("documentDescription")?pinterestDescription=encodeURIComponent($("documentDescription").get("content")):pinterestDescription="",window.open("https://pinterest.com/pin/create/button/?url="+whatIsCanonical().get("href")+"&media="+pinterestMedia+"&description="+pinterestDescription,"","width=640, height=400")})}function em(){var e=15;return $$("body > footer > .logoButton")[0]?e=$$("body>footer>.logoButton")[0].getSize().x/2:void 0}function loadFigureImages(e){window.getScroll().y>e.getPosition().y-wS().y&&Asset.image(e.get("src"),{onLoad:function(){e.setStyle("opacity",1),function(){e.getParent("figure").setStyle("background-image",null),e.removeClass("animateAll").addClass("loaded")}.delay(500)}})}function figureFocus(){$$("main > article section figure.focusBottom img").each(function(e){Asset.image(e.get("src"),{onLoad:function(){e.getSize().y>wS().y?e.setStyle("margin-top",wS().y-e.getSize().y):e.setStyle("margin-top",null)}})})}function resizeHeader(){var e=$$("main > header > img")[0];if($$("main > header > video")[0]&&(e=$$("main > header > video")[0]),headerSizeRatio&&!isNaN(headerSizeRatio)){if(windowScreenRatio=window.getSize().x/window.getSize().y,windowScreenRatio<headerSizeRatio){var t=(window.getSize().x-e.getSize().x)/2;0>t&&e.setStyle("margin-left",(window.getSize().x-e.getSize().x)/2),e.addClass("vertical"),flickerHeader()}else e.removeClass("vertical").setStyle("margin-left",null),flickerHeader();mainHeader.setStyle("width","")}}function flickerHeader(){var e=$$("main > header > img")[0];$$("main > header > video")[0]&&(e=$$("main > header > video")[0]),e.setStyles({opacity:0,display:"none"}),function(){e.setStyle("display","block"),function(){e.setStyle("opacity",1)}.delay(10)}.delay(600)}function figurePreviewClose(){if(firegurePreviewActiveEl&&!pinchZoomedIn()){docB&&(docB.removeClass("figurePreview"),mainHeaderSection&&(mainHeaderSection.addClass("animateAll"),function(){mainHeaderSection.removeClass("animateAll")}.delay(600))),window.removeEvent("scroll",scrollFigurePreviewClose),t?window.removeEvent("touchend",scrollFigurePreviewRestore):window.removeEvent("scrollend",scrollFigurePreviewRestore);var e=new Fx.Morph(firegurePreviewActiveEl,{duration:250});docB&&e.start({height:docB.getSize().x/firegurePreviewActiveEl.get("data-ratio"),width:docB.getSize().x,"margin-left":0,"margin-top":firegurePreviewActiveEl.get("data-margin-top")}),firegurePreviewActiveEl.getParent("figure")&&firegurePreviewActiveEl.getParent("figure").setStyle("opacity",null)}}function scrollFigurePreviewClose(){(window.getScroll().y-scrollRestoreValue>figurePreviewScrollLocation||window.getScroll().y+scrollRestoreValue<figurePreviewScrollLocation)&&figurePreviewClose()}function scrollFigurePreviewRestore(){(window.getScroll().y-scrollRestoreValue<=figurePreviewScrollLocation||window.getScroll().y+scrollRestoreValue>=figurePreviewScrollLocation&&!pinchZoomedIn())&&scrl.start(0,figurePreviewScrollLocation)}MooTools.More={version:"1.5.0",build:"73db5e24e6e9c5c87b3a27aebef2248053f7db37"},function(){var e=function(e){return null!=e},t=Object.prototype.hasOwnProperty;Object.extend({getFromPath:function(e,n){"string"==typeof n&&(n=n.split("."));for(var i=0,o=n.length;o>i;i++){if(!t.call(e,n[i]))return null;e=e[n[i]]}return e},cleanValues:function(t,n){n=n||e;for(var i in t)n(t[i])||delete t[i];return t},erase:function(e,n){return t.call(e,n)&&delete e[n],e},run:function(e){var t=Array.slice(arguments,1);for(var n in e)e[n].apply&&e[n].apply(e,t);return e}})}(),function(){var e=null,t={},n=function(e){return instanceOf(e,i.Set)?e:t[e]},i=this.Locale={define:function(n,o,r,a){var s;return instanceOf(n,i.Set)?(s=n.name,s&&(t[s]=n)):(s=n,t[s]||(t[s]=new i.Set(s)),n=t[s]),o&&n.define(o,r,a),e||(e=n),n},use:function(t){return t=n(t),t&&(e=t,this.fireEvent("change",t)),this},getCurrent:function(){return e},get:function(t,n){return e?e.get(t,n):""},inherit:function(e,t,i){return e=n(e),e&&e.inherit(t,i),this},list:function(){return Object.keys(t)}};Object.append(i,new Events),i.Set=new Class({sets:{},inherits:{locales:[],sets:{}},initialize:function(e){this.name=e||""},define:function(e,t,n){var i=this.sets[e];return i||(i={}),t&&("object"==typeOf(t)?i=Object.merge(i,t):i[t]=n),this.sets[e]=i,this},get:function(e,n,i){var o=Object.getFromPath(this.sets,e);if(null!=o){var r=typeOf(o);return"function"==r?o=o.apply(null,Array.from(n)):"object"==r&&(o=Object.clone(o)),o}var a=e.indexOf("."),s=0>a?e:e.substr(0,a),l=(this.inherits.sets[s]||[]).combine(this.inherits.locales).include("en-US");i||(i=[]);for(var c=0,d=l.length;d>c;c++)if(!i.contains(l[c])){i.include(l[c]);var u=t[l[c]];if(u&&(o=u.get(e,n,i),null!=o))return o}return""},inherit:function(e,t){e=Array.from(e),t&&!this.inherits.sets[t]&&(this.inherits.sets[t]=[]);for(var n=e.length;n--;)(t?this.inherits.sets[t]:this.inherits.locales).unshift(e[n]);return this}})}(),Locale.define("en-US","Number",{decimal:".",group:",",currency:{prefix:"$ "}}),Number.implement({format:function(e){var t=this;e=e?Object.clone(e):{};var n=function(t){return null!=e[t]?e[t]:Locale.get("Number."+t)},i=0>t,o=n("decimal"),r=n("precision"),a=n("group"),s=n("decimals");if(i){var l=n("negative")||{};null==l.prefix&&null==l.suffix&&(l.prefix="-"),["prefix","suffix"].each(function(t){l[t]&&(e[t]=n(t)+l[t])}),t=-t}var c=n("prefix"),d=n("suffix");""!==s&&s>=0&&20>=s&&(t=t.toFixed(s)),r>=1&&21>=r&&(t=(+t).toPrecision(r)),t+="";var u;if(n("scientific")===!1&&t.indexOf("e")>-1){var g=t.split("e"),m=+g[1];if(t=g[0].replace(".",""),0>m){for(m=-m-1,u=g[0].indexOf("."),u>-1&&(m-=u-1);m--;)t="0"+t;t="0."+t}else for(u=g[0].lastIndexOf("."),u>-1&&(m-=g[0].length-u-1);m--;)t+="0"}if("."!=o&&(t=t.replace(".",o)),a){u=t.lastIndexOf(o),u=u>-1?u:t.length;for(var f=t.substring(u),h=u;h--;)(u-h-1)%3==0&&h!=u-1&&(f=a+f),f=t.charAt(h)+f;t=f}return c&&(t=c+t),d&&(t+=d),t},formatCurrency:function(e){var t=Locale.get("Number.currency")||{};return null==t.scientific&&(t.scientific=!1),t.decimals=null!=e?e:null==t.decimals?2:t.decimals,this.format(t)},formatPercentage:function(e){var t=Locale.get("Number.percentage")||{};return null==t.suffix&&(t.suffix="%"),t.decimals=null!=e?e:null==t.decimals?2:t.decimals,this.format(t)}}),function(){var e={a:/[àáâãäåăą]/g,A:/[ÀÁÂÃÄÅĂĄ]/g,c:/[ćčç]/g,C:/[ĆČÇ]/g,d:/[ďđ]/g,D:/[ĎÐ]/g,e:/[èéêëěę]/g,E:/[ÈÉÊËĚĘ]/g,g:/[ğ]/g,G:/[Ğ]/g,i:/[ìíîï]/g,I:/[ÌÍÎÏ]/g,l:/[ĺľł]/g,L:/[ĹĽŁ]/g,n:/[ñňń]/g,N:/[ÑŇŃ]/g,o:/[òóôõöøő]/g,O:/[ÒÓÔÕÖØ]/g,r:/[řŕ]/g,R:/[ŘŔ]/g,s:/[ššş]/g,S:/[ŠŞŚ]/g,t:/[ťţ]/g,T:/[ŤŢ]/g,u:/[ùúûůüµ]/g,U:/[ÙÚÛŮÜ]/g,y:/[ÿý]/g,Y:/[ŸÝ]/g,z:/[žźż]/g,Z:/[ŽŹŻ]/g,th:/[þ]/g,TH:/[Þ]/g,dh:/[ð]/g,DH:/[Ð]/g,ss:/[ß]/g,oe:/[œ]/g,OE:/[Œ]/g,ae:/[æ]/g,AE:/[Æ]/g},t={" ":/[\xa0\u2002\u2003\u2009]/g,"*":/[\xb7]/g,"'":/[\u2018\u2019]/g,'"':/[\u201c\u201d]/g,"...":/[\u2026]/g,"-":/[\u2013]/g,"&raquo;":/[\uFFFD]/g},n={ms:1,s:1e3,m:6e4,h:36e5},i=/(\d*.?\d+)([msh]+)/,o=function(e,t){var n,i=e;for(n in t)i=i.replace(t[n],n);return i},r=function(e,t){e=e||"";var n=t?"<"+e+"(?!\\w)[^>]*>([\\s\\S]*?)</"+e+"(?!\\w)>":"</?"+e+"([^>]+)?>",i=new RegExp(n,"gi");return i};String.implement({standardize:function(){return o(this,e)},repeat:function(e){return new Array(e+1).join(this)},pad:function(e,t,n){if(this.length>=e)return this;var i=(null==t?" ":""+t).repeat(e-this.length).substr(0,e-this.length);return n&&"right"!=n?"left"==n?i+this:i.substr(0,(i.length/2).floor())+this+i.substr(0,(i.length/2).ceil()):this+i},getTags:function(e,t){return this.match(r(e,t))||[]},stripTags:function(e,t){return this.replace(r(e,t),"")},tidy:function(){return o(this,t)},truncate:function(e,t,n){var i=this;if(null==t&&1==arguments.length&&(t="…"),i.length>e){if(i=i.substring(0,e),n){var o=i.lastIndexOf(n);-1!=o&&(i=i.substr(0,o))}t&&(i+=t)}return i},ms:function(){var e=i.exec(this);return null==e?Number(this):Number(e[1])*n[e[2]]}})}(),Fx.Elements=new Class({Extends:Fx.CSS,initialize:function(e,t){this.elements=this.subject=$$(e),this.parent(t)},compute:function(e,t,n){var i={};for(var o in e){var r=e[o],a=t[o],s=i[o]={};for(var l in r)s[l]=this.parent(r[l],a[l],n)}return i},set:function(e){for(var t in e)if(this.elements[t]){var n=e[t];for(var i in n)this.render(this.elements[t],i,n[i],this.options.unit)}return this},start:function(e){if(!this.check(e))return this;var t={},n={};for(var i in e)if(this.elements[i]){var o=e[i],r=t[i]={},a=n[i]={};for(var s in o){var l=this.prepare(this.elements[i],s,o[s]);r[s]=l.from,a[s]=l.to}}return this.parent(t,n)}}),function(){function e(e){return/^(?:body|html)$/i.test(e.tagName)}Fx.Scroll=new Class({Extends:Fx,options:{offset:{x:0,y:0},wheelStops:!0},initialize:function(e,t){if(this.element=this.subject=document.id(e),this.parent(t),"element"!=typeOf(this.element)&&(this.element=document.id(this.element.getDocument().body)),this.options.wheelStops){var n=this.element,i=this.cancel.pass(!1,this);this.addEvent("start",function(){n.addEvent("mousewheel",i)},!0),this.addEvent("complete",function(){n.removeEvent("mousewheel",i)},!0)}},set:function(){var e=Array.flatten(arguments);return this.element.scrollTo(e[0],e[1]),this},compute:function(e,t,n){return[0,1].map(function(i){return Fx.compute(e[i],t[i],n)})},start:function(e,t){if(!this.check(e,t))return this;var n=this.element.getScroll();return this.parent([n.x,n.y],[e,t])},calculateScroll:function(e,t){var n=this.element,i=n.getScrollSize(),o=n.getScroll(),r=n.getSize(),a=this.options.offset,s={x:e,y:t};for(var l in s)s[l]||0===s[l]||(s[l]=o[l]),"number"!=typeOf(s[l])&&(s[l]=i[l]-r[l]),s[l]+=a[l];return[s.x,s.y]},toTop:function(){return this.start.apply(this,this.calculateScroll(!1,0))},toLeft:function(){return this.start.apply(this,this.calculateScroll(0,!1))},toRight:function(){return this.start.apply(this,this.calculateScroll("right",!1))},toBottom:function(){return this.start.apply(this,this.calculateScroll(!1,"bottom"))},toElement:function(t,n){n=n?Array.from(n):["x","y"];var i=e(this.element)?{x:0,y:0}:this.element.getScroll(),o=Object.map(document.id(t).getPosition(this.element),function(e,t){return n.contains(t)?e+i[t]:!1});return this.start.apply(this,this.calculateScroll(o.x,o.y))},toElementEdge:function(e,t,n){t=t?Array.from(t):["x","y"],e=document.id(e);var i={},o=e.getPosition(this.element),r=e.getSize(),a=this.element.getScroll(),s=this.element.getSize(),l={x:o.x+r.x,y:o.y+r.y};return["x","y"].each(function(e){t.contains(e)&&(l[e]>a[e]+s[e]&&(i[e]=l[e]-s[e]),o[e]<a[e]&&(i[e]=o[e])),null==i[e]&&(i[e]=a[e]),n&&n[e]&&(i[e]=i[e]+n[e])},this),i.x==a.x&&i.y==a.y||this.start(i.x,i.y),this},toElementCenter:function(e,t,n){t=t?Array.from(t):["x","y"],e=document.id(e);var i={},o=e.getPosition(this.element),r=e.getSize(),a=this.element.getScroll(),s=this.element.getSize();return["x","y"].each(function(e){t.contains(e)&&(i[e]=o[e]-(s[e]-r[e])/2),null==i[e]&&(i[e]=a[e]),n&&n[e]&&(i[e]=i[e]+n[e])},this),i.x==a.x&&i.y==a.y||this.start(i.x,i.y),this}})}(),Request.JSONP=new Class({Implements:[Chain,Events,Options],options:{onRequest:function(e){this.options.log&&window.console&&console.log&&console.log("JSONP retrieving script with url:"+e)},onError:function(e){this.options.log&&window.console&&console.warn&&console.warn("JSONP "+e+" will fail in Internet Explorer, which enforces a 2083 bytes length limit on URIs")},url:"",callbackKey:"callback",injectScript:document.head,data:"",link:"ignore",timeout:0,log:!1},initialize:function(e){this.setOptions(e)},send:function(e){if(!Request.prototype.check.call(this,e))return this;this.running=!0;var t=typeOf(e);"string"!=t&&"element"!=t||(e={data:e}),e=Object.merge(this.options,e||{});var n=e.data;switch(typeOf(n)){case"element":n=document.id(n).toQueryString();break;case"object":case"hash":n=Object.toQueryString(n)}var i=this.index=Request.JSONP.counter++,o=e.url+(e.url.test("\\?")?"&":"?")+e.callbackKey+"=Request.JSONP.request_map.request_"+i+(n?"&"+n:"");o.length>2083&&this.fireEvent("error",o),Request.JSONP.request_map["request_"+i]=function(){this.success(arguments,i)}.bind(this);var r=this.getScript(o).inject(e.injectScript);return this.fireEvent("request",[o,r]),e.timeout&&this.timeout.delay(e.timeout,this),this},getScript:function(e){return this.script||(this.script=new Element("script",{type:"text/javascript",async:!0,src:e})),this.script},success:function(e){this.running&&this.clear().fireEvent("complete",e).fireEvent("success",e).callChain()},cancel:function(){return this.running&&this.clear().fireEvent("cancel"),this},isRunning:function(){return!!this.running},clear:function(){return this.running=!1,this.script&&(this.script.destroy(),this.script=null),this},timeout:function(){return this.running&&(this.running=!1,this.fireEvent("timeout",[this.script.get("src"),this.script]).fireEvent("failure").cancel()),this}}),Request.JSONP.counter=0,Request.JSONP.request_map={};var Asset={javascript:function(e,t){t||(t={});var n=new Element("script",{src:e,type:"text/javascript"}),i=t.document||document,o=t.onload||t.onLoad;return delete t.onload,delete t.onLoad,delete t.document,o&&(n.addEventListener?n.addEvent("load",o):n.addEvent("readystatechange",function(){["loaded","complete"].contains(this.readyState)&&o.call(this)})),n.set(t).inject(i.head)},css:function(e,t){t||(t={});var n=new Element("link",{rel:"stylesheet",media:"screen",type:"text/css",href:e}),i=t.onload||t.onLoad,o=t.document||document;return delete t.onload,delete t.onLoad,delete t.document,i&&n.addEvent("load",i),n.set(t).inject(o.head)},image:function(e,t){t||(t={});var n=new Image,i=document.id(n)||new Element("img");return["load","abort","error"].each(function(e){var o="on"+e,r="on"+e.capitalize(),a=t[o]||t[r]||function(){};delete t[r],delete t[o],n[o]=function(){n&&(i.parentNode||(i.width=n.width,i.height=n.height),n=n.onload=n.onabort=n.onerror=null,a.delay(1,i,i),i.fireEvent(e,i,1))}}),n.src=i.src=e,n&&n.complete&&n.onload.delay(1),i.set(t)},images:function(e,t){e=Array.from(e);var n=function(){},i=0;return t=Object.merge({onComplete:n,onProgress:n,onError:n,properties:{}},t),new Elements(e.map(function(n,o){return Asset.image(n,Object.append(t.properties,{onload:function(){i++,t.onProgress.call(this,i,o,n),i==e.length&&t.onComplete()},onerror:function(){i++,t.onError.call(this,i,o,n),i==e.length&&t.onComplete()}}))}))}},docB,scrl,mainHeader,t,iApp,lo,domready=!1;navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)?iPh=!0:iPh=!1,navigator.userAgent.match(/iPad|PlayBook/i)?iPd=!0:iPd=!1;var retina=isRetina(),wS;Element.NativeEvents.popstate=2;var historyDefault=function(){historyUrls[0]!=location.pathname&&(window.location=location.pathname)},hI=0,historyUrls=[location.pathname],returnActions=[historyDefault],nullFn=function(){};window.addEvent("popstate",function(){trackingAndTags();var e=hI;hI=historyUrls.indexOf(location.pathname),console.log("hI r: "+hI),e>hI?returnActions[hI+1]():returnActions[hI](),console.log("popstate"),console.log(returnActions[hI])}),docB=$(document.body),docB.addClass(Browser.name),scrl=new Fx.Scroll(docB,{transition:"circ:out"}),mainHeader=$$("body > header")[0],mainHeaderSection=$$("main > header section")[0]||!1,iApp=!!docB.hasClass("iApp"),t=is_touch_device(),t||docB.addClass("mouse"),wS=function(){var e=docB.getSize();return e};var wSx=wS().x,wSy=wS().y;window.addEvent("resizeend",function(){wSx=wS().x,wSy=wS().y}),doNotSteal($$(".doNotSteal"),!0),mainHeader&&(homeButton=$$("body > header .homeButton")[0],logoSVGel=$$("body > header .logoButton svg.logoSVG rect"),logoSVGc=logoSVGel.length,logoSVG=$$("body > header .logoButton")[0]),loadingAnimation=function(){mainHeader&&(mainHeader.removeClass("light"),logoSVG.addClass("animationLoading"))},lo=function(){mainHeader&&logoSVG&&logoSVG.removeClass("animationLoading")},window.addEvent("domready",function(){$("searchQuery")&&$("searchQuery").addEvents({click:function(e){e.stop(),fullScreenInput("Search",!1,"/search/")},touchstart:function(e){e.stop(),fullScreenInput("Search",!1,"/search/")}})}),$$("form").each(function(e){e.get("action").contains("/search")&&e.getChildren('input[type="text"]')[0].addEvent("focus",function(e){e.stop(),fullScreenInput("Search",this.get("value"),"/search/")})});var fsInputScrollMem=window.getScroll().y;bodyDontScroll=function(e){e.preventDefault()};var fsinputFormEl=!1,fsinputScrl;fullScreenFormScrollSnap=function(){t&&(window.getScroll().y>fsInputScrollMem+10||window.getScroll().y<fsInputScrollMem-10)&&scrl.start(0,fsInputScrollMem)},closeInput=function(){fsinputFormEl?(historyDefault(),fsinputFormEl.setStyles({opacity:0,position:null,"-webkit-transform":"translateY("+fsInputScrollMem+"px) scale(.85, .85)","-moz-transform":"translateY("+fsInputScrollMem+"px) scale(.85, .85)",transform:"translateY("+fsInputScrollMem+"px) scale(.85, .85)"}).removeClass("appear"),function(){fsinputFormEl&&($("fsinputForm").destroy(),fsinputFormEl=!1)}.delay(500),docB.removeClass("fsinput"),window.removeEvent("scrollend",fullScreenFormScrollSnap)):historyDefault()},fullScreenInput=function(e,n,i){if(domready){fsInputScrollMem=window.getScroll().y,"ajaxContent"==e?(fullScreenForm=new Element("div",{id:"fsinputForm","class":"animateAllFast loadingContainer"}),historyGo(i,{returnAction:closeInput}),new Request.HTML({url:i,append:fullScreenForm,onSuccess:function(e,t,n){fullScreenForm.removeClass("loadingContainer"),n.contains('class="m-story"')&&($("mediumEmbed")&&$("mediumEmbed").destroy(),Asset.javascript("https://static.medium.com/embed.js",{id:"mediumEmbed"})),n.contains('class="instagram-media"')&&($("instagramEmbed")?window.instgrm.Embeds.process():Asset.javascript("https://platform.instagram.com/en_US/embeds.js",{id:"instagramEmbed",onLoad:function(){window.instgrm.Embeds.process()}}))}}).get()):(fullScreenForm=new Element("form",{method:"get",id:"fsinputForm",action:i,"class":"animateAllFast",html:'<input type="text" name="for" required placeholder="'+e+'" maxlength="200" /><input type="submit" />'}),historyGo(prettyAjaxUrl(i),{returnAction:closeInput}));var o=!1;fullScreenFormX=new Element("a",{id:"fsinputClose","class":"animateAllFast",href:"javascript:void(0);",html:'<svg xmlns="http://www.w3.org/2000/svg" version="1.1" x="0" y="0" viewBox="0 0 56 56" xml:space="preserve" class="searchIcon animateAllFast"><g fill="none" stroke-width="2"><path d="M55 27H29V1c0-0.6-0.4-1-1-1s-1 0.4-1 1v26H1c-0.6 0-1 0.4-1 1 0 0.6 0.4 1 1 1h26v26c0 0.6 0.4 1 1 1s1-0.4 1-1V29h26c0.6 0 1-0.4 1-1C56 27.4 55.6 27 55 27z"/></g></svg>',events:{click:function(e){e.stop(),o||(history.back(),o=!0)},touchstart:function(e){e.stop(),o||(history.back(),o=!0)}}}),fullScreenForm.setStyles({"-webkit-transform":"translateY("+fsInputScrollMem+"px) scale(.85, .85)","-moz-transform":"translateY("+fsInputScrollMem+"px) scale(.85, .85)",transform:"translateY("+fsInputScrollMem+"px) scale(.85, .85)"}).inject(docB,"top"),fullScreenFormX.inject(fullScreenForm,"top"),fsinputFormEl=$("fsinputForm")||$("eurekaKingForm"),fsinputScrl=new Fx.Scroll(fsinputFormEl,{transition:"circ:out"}),iPh&&window.innerHeight>window.innerWidth&&window.getScroll().y<10&&window.scrollTo(0,0),function(){fullScreenForm.setStyles({opacity:1,"-webkit-transform":"translate3d(0, "+fsInputScrollMem+"px, 0)","-moz-transform":"translate3d(0, "+fsInputScrollMem+"px, 0)",transform:"translate3d(0, "+fsInputScrollMem+"px, 0)"}),window.scrollTo(0,fsInputScrollMem),$$('#fsinputForm input[type="text"]')[0]&&($$('#fsinputForm input[type="text"]')[0].focus(),n!==!1&&$$('#fsinputForm input[type="text"]')[0].set("value",n))}.delay(100),function(){fullScreenFormX.addClass("appear")}.delay(250),function(){docB.addClass("fsinput"),t&&fullScreenForm.setStyle("position","relative")}.delay(500),fullScreenForm.addEvents({touchend:fullScreenFormScrollSnap}),window.addEvent("scrollend",fullScreenFormScrollSnap)}else window.location=prettyAjaxUrl(i)};var scrollP_header=0;if(void 0==viewToggle)var viewToggle=!1;var scrollTimer=null,lightHeader=!1,headerVisibilityLogic,hideHeader,showHeader;$$("main > header .scrollButton")&&mainHeaderSection&&($$("main > header .scrollButton").addEvent("click",function(e){e.stop(),read()}),window.addEvent("scroll",function(){window.getScroll().y>5?mainHeaderSection.addClass("reading"):mainHeaderSection.removeClass("reading"),window.getScroll().y>=wSy/3?$$("main > header .scrollButton").addClass("scrollUp"):$$("main > header .scrollButton").removeClass("scrollUp")}));var logoSVG,homeButton,logoSVGel,loadingAnimation,lo;rS();var resizeTimer,closeInput,fullScreenInput,pinchZoomEventFired=!1,pzf=function(){pinchZoomedIn()&&"in"!=pinchZoomEventFired?window.fireEvent("userpinchzoom","in"):"normal"!=pinchZoomEventFired&&window.fireEvent("userpinchzoom","normal")};pzf.periodical(1e3),window.addEvents({resize:function(){null!==resizeTimer&&clearTimeout(resizeTimer),t||(resizeTimer=setTimeout(function(){window.fireEvent("resizeend")},250))},resizeend:rS,orientationchange:function(){rS(),fsinputFormEl&&history.back()},userpinchzoom:function(e){"in"==e?mainHeader&&mainHeader.setStyles({opacity:"0",position:"absolute"}):mainHeader&&mainHeader.setStyles({opacity:"1",position:null})},scroll:sC,"click:relay(a)":function(e){var t=this,n=e;window.addEvent("domready",function(){return(iPh||iPd)&&iApp&&t.get("href").contains("://")&&!t.get("class").contains("checkout")?(n.stop(),window.location=t.get("href"),!1):void li(t,n)})},keydown:function(e){switch(e.key){case"esc":lo(),fsinputFormEl&&history.back();break;case"enter":"input"!==e.target.tagName.toLowerCase()&&e.stop();break;case"left":break;case"right":break;case"down":e.stop(),fsinputFormEl?(scrl.stop(),fsinputScrl.start(0,fsinputFormEl.getScroll().y+wS().y/2)):(fsinputScrl.stop(),domready&&scrl.start(0,window.getScroll().y+wS().y/2));break;case"up":e.stop(),fsinputFormEl?(scrl.stop(),fsinputScrl.start(0,fsinputFormEl.getScroll().y-wS().y/2)):(fsinputScrl.stop(),domready&&scrl.start(0,window.getScroll().y-wS().y/2))}},domready:function(){domready=!0,console.log("domready"),"function"==typeof lo&&lo(),$$(".moreLink").each(function(e){e.addEvent("click",function(){"function"==typeof lo&&lo(),$(e.get("data-more")).addClass("show"),function(){$(e.get("data-more")).setStyle("opacity",1)}.delay(100),e.setStyle("display","none")})}),$$("a").addEvents({click:function(e){var t=this,n=e;window.addEvent("domready",function(){li(t,n),"_blank"!=t.get("target")&&t.addClass("active")})},touchstart:function(){"_blank"!=this.get("target")&&this.addClass("active"),pzf()},touchend:function(){},touchcancel:function(){this.removeClass("active")},touchmove:function(){this.removeClass("active")}}),mainHeader&&$$(logoSVG).addEvents({mouseenter:function(){domready&&!t&&logoSVGel.each(function(e,t){(function(){e.setStyles({"-webkit-transform":"rotateY(360deg)",msTransform:"rotateY(360deg)","-moz-transform":"rotateY(360deg)",transform:"rotateY(360deg)"})}).delay(25*t),lo()})},mouseleave:function(){domready&&!t&&logoSVGel.each(function(e,t){(function(){e.setStyles({"-webkit-transform":"rotateY(0deg)",msTransform:"rotateY(0deg)","-moz-transform":"rotateY(0deg)",transform:"rotateY(0deg)"})}).delay(25*(logoSVGc-t))})}}),mainHeader&&(($("identifierHomepage")||$("identifierMagPink"))&&(lightHeader=!0),lightHeader&&mainHeader.addClass("light"),hideHeader=function(){mainHeader.hasClass("hide")||mainHeader.addClass("hide")},showHeader=function(){mainHeader.hasClass("hide")&&mainHeader.removeClass("hide")},headerVisibilityLogic=function(){window.getScroll().y>scrollP_header+10&&window.getScroll().y>wSy/1.5?(hideHeader(),scrollP_header=window.getScroll().y):(window.getScroll().y<scrollP_header||window.getScroll().y<wSy/1.5)&&docB.scrollHeight>docB.scrollTop+window.innerHeight+50&&0!==viewToggle&&(showHeader(),scrollP_header=window.getScroll().y),"undefined"!=typeof sliderEl&&0==viewToggle&&window.getScroll().y>=20&&!pinchZoomedIn()&&windowedScreenView(),"undefined"==typeof sliderEl||1!=viewToggle||0!=window.getScroll().y||pinchZoomedIn()||fullScreenView()})},scrollend:sCEnd,load:function(){(headerVisibilityLogic||Function)()}}),Browser.ie&&Browser.version<11&&(window.location="/upgrade.html"),window.addEvent("domready",socialActions);var exploreListCare;downstatesForGalleryLists=!1,exploreListCare=function(){if($("exploreList")||$$(".exploreSection")[0]){window.getSize().x>720?bgSizePrefix="L_":bgSizePrefix="s_";var e=[],t=[],n=[];$$($$("#exploreList > a"),$$(".exploreSection > a")).each(function(i,o){function r(i,o){!t[o]&&window.getScroll().y>i.getPosition().y-wS().y&&(t[o]=!0,void 0!==i.get("data-background-image")&&null!==i.get("data-background-image")&&(i.hasClass("art")?e[o]="/images/thumbnails/?blur="+blurImageLevel+"&i=/images/art/"+bgSizePrefix+i.get("data-background-image"):i.hasClass("mag")&&(blurBlogFeatures?e[o]="/images/thumbnails/?blur="+blurImageLevel+"&i="+i.get("data-background-image"):e[o]=i.get("data-background-image")),Asset.image(e[o],{onLoad:function(){var t=new Element("img",{src:"/design/blank.gif",styles:{"background-image":"url("+e[o]+")"}});t.inject(i),function(){i.hasClass("art")?t.setStyle("opacity",.5):(t.setStyle("opacity",1),i.removeClass("loadingContainer"))}.delay(100),i.getElements("img")[0]&&!i.hasClass("mag")&&(n[o]="/images/art/"+bgSizePrefix+i.get("data-background-image"),Asset.image(n[o],{onLoad:function(){i.getElements("img")[0].set("src",n[o]).addClass("show"),i.removeClass("loadingContainer")}}))}})))}i&&(i.addClass("loadingContainer"),window.addEvent("scroll",function(){r(i,o)}),r(i,o))}),$$("#exploreList > article > span").each(function(e,t){e.addEvent("click",function(t){t.stop(),console.log("."+e.get("data-artist-scrollto")),srollToArtist=$$("."+e.get("data-artist-scrollto"))[0].getPosition().y-58,scrl.start(0,srollToArtist)}),$$("#exploreList > article")[t]});var i=.75*window.getSize().y;window.addEvent("resize",function(){i=.75*window.getSize().y}),$$("#exploreList > article").each(function(e){window.addEvent("scroll",function(){window.getScroll().y>e.getPosition().y+i-56?e.addClass("mellowDivider"):e.removeClass("mellowDivider")})}),downstatesForGalleryLists&&$$("#exploreList a").addEvents({click:function(){"_blank"!=this.get("target")&&this.addClass("active")},touchstart:function(){"_blank"!=this.get("target")&&this.addClass("active"),pzf()},touchcancel:function(){this.removeClass("active")},touchmove:function(){this.removeClass("active")}})}},window.addEvent("domready",exploreListCare);var figurePreviewScrollLocation=0,firegurePreviewActiveEl;window.addEvent("domready",function(){$$("main > article section figure.feature > a").addEvent("click",function(e){e.stop()}),$$("main > article section figure.feature img").addEvent("click",function(e){if(!this.getParent("figure").hasClass("productPreview")&&(e.stop(),!this.hasClass("noZoom")&&this.hasClass("loaded"))){var n=this.getSize().x/this.getSize().y,i=docB.getSize().y*n;this.set("data-ratio",n);var o=this.getParent("figure");if(docB.hasClass("figurePreview"))figurePreviewClose();else{if(function(){docB.addClass("figurePreview")}.delay(500),this.getSize().y<docB.getSize().y)figurePreviewScrollLocation=this.getPosition().y-(docB.getSize().y-this.getSize().y)/2,scrl.start(0,figurePreviewScrollLocation),
o.setStyle("opacity","1");else if(figurePreviewScrollLocation=this.getPosition().y,this.getStyle("margin-top")&&(figurePreviewScrollLocation=this.getPosition().y-parseFloat(this.getStyle("margin-top")),this.set("data-margin-top",this.getStyle("margin-top"))),scrl.start(0,figurePreviewScrollLocation),this.getSize().y>docB.getSize().y){var r=new Fx.Morph(this,{duration:250});(function(){r.start({height:docB.getSize().y,width:i,"margin-left":(docB.getSize().x-i)/2,"margin-top":0}),o.setStyle("opacity","1")}).delay(500)}(function(){window.addEvent("scroll",scrollFigurePreviewClose)}).delay(500),t?window.addEvent("touchend",scrollFigurePreviewRestore):window.addEvent("scrollend",scrollFigurePreviewRestore)}firegurePreviewActiveEl=this}}),figureFocus()}),blurFigureImages&&$$("main > article section figure img").each(function(e){e.getParent("figure").hasClass("productPreview")||(e.addClass("animateAll").addClass("loadBlur"),e.getParent("figure").setStyle("background-image","url(/images/thumbnails/?blur="+blurImageLevel+"&i="+e.get("src")+")"),Asset.image("/images/thumbnails/?blur="+blurImageLevel+"&i="+e.get("src"),{onLoad:function(){window.addEvent("scroll",function(){loadFigureImages(e)}),loadFigureImages(e)}}))}),window.addEvent("resizeend",figureFocus);var headerSizeRatio;window.addEvent("domready",function(){function e(){mainHeaderImage=$$("main > header > img")[0],0==mainHeaderImage.getStyle("opacity")&&(mainHeaderImage.setStyle("opacity",1),$$("main > header")[0].addClass("loaded").removeClass("loadingContainer"),headerSizeRatio=mainHeaderImage.getSize().x/mainHeaderImage.getSize().y,isNaN(headerSizeRatio)?function(){headerSizeRatio=mainHeaderImage.getSize().x/mainHeaderImage.getSize().y,resizeHeader()}.delay(500):resizeHeader())}if($$("main > header")[0]&&($$("main > header")[0].addEvent("click",function(){!this.hasClass("noFigurePreview")&&this.hasClass("loaded")&&(docB&&!docB.hasClass("figurePreview")?(figurePreviewScrollLocation=0,docB.addClass("figurePreview"),scrl.start(0,0),function(){window.addEvent("scroll",scrollFigurePreviewClose)}.delay(500),t?window.addEvent("touchend",scrollFigurePreviewRestore):window.addEvent("scrollend",scrollFigurePreviewRestore)):figurePreviewClose(),firegurePreviewActiveEl=this)}),$$("main > header section")[0].addEvent("click",function(e){e.stop()}),$$("main > header > img")[0])){var n=$$("main > header > img")[0].get("src");$$("main > header")[0].addClass("loadingContainer"),Asset.image(n,{onLoad:e}),e.delay(6e3)}});var scrollRestoreValue=40;window.addEvent("resize",function(){pinchZoomedIn()||(docB.removeClass("figurePreview"),window.removeEvent("scroll",scrollFigurePreviewClose),t?window.removeEvent("touchend",scrollFigurePreviewRestore):window.removeEvent("scrollend",scrollFigurePreviewRestore),$$("main > article section figure").each(function(e){!e.hasClass("productPreview")&&e.hasClass("loaded")&&(e.getElements("img").set("style",null),console.log("removing styles from figure elements"))}))});