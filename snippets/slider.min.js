function is_touch_device(){return"ontouchstart"in window?1:0}function getFirstWord(e){return e=e.replace("By ",""),-1===e.indexOf(" ")?e:e.substr(0,e.indexOf(" "))}function setIpShipping(e){switch(e){case"US":shipPrice.set("html",usShipping).addClass("set");break;case"CA":shipPrice.set("html",caShipping).addClass("set");break;default:shipPrice.set("html",defaultShipping).addClass("set")}}var titlePattern=" "+String.fromCharCode(183)+" ArtSocket";window.scrollTo(0,0);var sizeIS,lastHeight=0,lastWidth=0,sizeISNow,windowedScreenView,fullScreenView,loadThisImage,purchasePrint;if($("imageSlider")){var sliderEl=$("imageSlider"),imageDir=sliderEl.get("data-image-dir"),smallImageP=sliderEl.get("data-small-image-prefix"),largeImageP=sliderEl.get("data-large-image-prefix"),blankImage="/design/blank.gif",sliderBox=$$("#imageSlider > div")[0],sliderBlock=$$("#imageSlider div > article"),imageTotal=$$("#imageSlider div > article").length,imageAligner=$$("#imageSlider .imageAligner"),sliderFigure=$$("#imageSlider .imageAligner figure"),sliderImage=$$("#imageSlider .imageAligner figure img"),sliderImageZoomOffsetY=new Array,productImage=$$(".imageDetails figure.productPreview img"),productImageWidth=0,productImageHeight=0,previewDecor,sliderRightArrow=$$("a.rightArrow")[0],sliderLeftArrow=$$("a.leftArrow")[0],fsButtons=$$(".fsButton"),slideURL=sliderBlock.get("data-slide-url"),docB=$(document.body),imageRatio=new Array,resizeTimer=null,autoHideArrows=null,t=is_touch_device(),windowWidth=docB.getSize().x,windowHeight=docB.getSize().y,totalImagesLoaded=0,sliderPointerInit,sliderPointerDown,sliderInitPosition,scrollToPosition,currentSlide=parseInt(sliderEl.get("data-current-slide"));(void 0==currentSlide||0>currentSlide)&&(currentSlide=0);var imageLoaded=new Array,detailsEl=$$(".imageDetails"),sliderTitles=$$(".imageDetails h1").get("html"),sliderAuthor=function(){return $$(".imageDetails .author")?getFirstWord($$(".imageDetails .author")[currentSlide].get("html").stripTags()):!1},detailsBlock=$("aboutThisImage");if($$(".statsAndShare")[0])var socialEl=$$(".statsAndShare")[0];var genericImagInfo=$$(".genericImagInfo")[0],productDetails=$$(".productDetails")[0],eComEls=$$("section.eCom"),firstSlideEnhance=0,viewToggle=1,physicalAction="Click";t&&(physicalAction="Tap");var sliderSnapDuration=735;sliderImage.each(function(e,i){imageRatio[i]=e.get("width")/e.get("height"),e.get("data-zoom-offset-y")?sliderImageZoomOffsetY[i]=e.get("data-zoom-offset-y"):sliderImageZoomOffsetY[i]=0;var t=new Element("figcaption",{"class":"animateAll",html:'"<span class="title">'+sliderTitles[i]+'</span>" by <span class="authorName">...</span> <strong>$'+Math.round(parseFloat(detailsEl[i].getElements(".printPrice")[0].get("html").stripTags()))+'</strong><span class="arrow">&nbsp;</span>'});t.inject(sliderFigure[i],"bottom")}),loadThisImage=function(e){return thisSlide=e||currentSlide,windowWidth>720?imageDir+largeImageP+sliderImage[thisSlide].get("data-image"):imageDir+smallImageP+sliderImage[thisSlide].get("data-image")},blurLoadingSliders?sliderBlock.each(function(e,i){e.setStyle("background-image","url(/images/thumbnails/?blur=1&i="+loadThisImage(i)+")")}):sliderBlock.addClass("loadingContainer");var firstImageLoadedEvent=!1;Asset.image(loadThisImage(),{onLoad:function(){firstImageLoadedEvent||(window.fireEvent("firstImageLoaded"),firstImageLoadedEvent=!0)}}),function(){firstImageLoadedEvent||(window.fireEvent("firstImageLoaded"),firstImageLoadedEvent=!0)}.delay(1e3);var setCurrentAuthor=function(e){$$("#imageSlider figcaption .authorName")[currentSlide].set("html",e)},sliderSnap=new Fx.Scroll(sliderEl,{duration:sliderSnapDuration,transition:"expo:out",onStart:function(){slideURL[currentSlide]!=location.pathname&&historyGo(slideURL[currentSlide],{returnAction:sliderHistory})},onComplete:function(){sliderFigure[currentSlide].addClass("show"),function(){sliderBlock[currentSlide].addClass("imageLoaded")}.delay(500),imageLoaded[currentSlide]&&sliderImage[currentSlide].get("src")!=blankImage||(sliderImage[currentSlide].set("src",loadThisImage()),sliderAuthor()?setCurrentAuthor(sliderAuthor()):function(){sliderAuthor()&&setCurrentAuthor(sliderAuthor())}.delay(1500),Asset.image(loadThisImage(),{onLoad:function(){sliderImage[currentSlide].removeClass("loading"),function(){blurLoadingSliders?sliderBlock[currentSlide].setStyle("background-image",null):sliderBlock[currentSlide].removeClass("loadingContainer")}.delay(500),productImage[currentSlide].set("src",loadThisImage()),previewDecor(),imageLoaded[currentSlide]=!0,totalImagesLoaded++}})),!t&&imageTotal-1>currentSlide?sliderRightArrow.setStyle("display","block"):sliderRightArrow.setStyle("display","none"),!t&&currentSlide>0?sliderLeftArrow.setStyle("display","block"):sliderLeftArrow.setStyle("display","none"),imageTotal>currentSlide&&currentSlide>=0&&(detailsEl.setStyle("display","none"),detailsEl[currentSlide].setStyles({display:"block",opacity:1}));var e=(currentSlide+1)/imageTotal*100;progressStyles.cssRules.length>0&&progressStyles.deleteRule(0),progressStyles.insertRule?progressStyles.insertRule("#aboutThisImage:before {width: "+e+"%;}",0):progressStyles.addRule("#aboutThisImage:before","width: "+e+"%;",0),sliderRightArrow.set("href",slideURL[currentSlide+1]),sliderLeftArrow.set("href",slideURL[currentSlide-1]),totalImagesLoaded>0&&window.fireEvent("pushstate"),nametag=$$("#imageSlider > div > article")[currentSlide].get("data-slide-url").replace("/art/","").replace("/",""),new Request.JSON({url:"/print-db.php?nametag="+nametag,onComplete:function(e){$$("section.storyContent")[currentSlide].set("html",e.story).removeClass("loadingContainer"),$$("h3.author")[currentSlide].set("html","By "+e["author-block"]),$$(".productDetails")[currentSlide].setStyle("opacity",1),firstSlideEnhance++}}).send()}}),sliderHistory=function(){sliderSnap.cancel(),currentSlide=slideURL.indexOf(historyUrls[hI].replace(urlDomain,"")),(void 0==currentSlide||0>currentSlide)&&(currentSlide=0),sliderSnap.start(currentSlide*windowWidth+windowWidth/4,0)};sliderBox.set("tween",{duration:250,transition:"expo:out"});var windowSnap=new Fx.Scroll(window,{duration:500});$$(imageAligner,sliderBlock).addClass("animateAll"),windowedScreenView=function(){0==viewToggle&&(viewToggle=1,sliderImage.removeClass("zoomedOut"),sliderEl.removeClass("fullScreen"),detailsBlock.removeClass("fullScreen"),function(){0==window.getScroll().y&&1==viewToggle&&new Fx.Scroll(docB).start(0,50)}.delay(750))},fullScreenView=function(){1==viewToggle&&(window.getScroll().y<=10?animationDelay=0:animationDelay=500,function(){sliderImage.addClass("zoomedOut"),sliderEl.addClass("fullScreen"),detailsBlock.addClass("fullScreen"),function(){(hideHeader||Function)()}.delay(100)}.delay(animationDelay),windowSnap.start(0,0),viewToggle=0)},fullScreenView(),window.addEvent("domready",function(){(hideHeader||Function)()}),function(){eComEls.setStyle("opacity",1)}.delay(500),fsButtons.addEvent("click",function(e){e.stop(),(hideHeader||Function)(),fullScreenView(),this.removeClass("active")});var progressStyles=function(){var e=document.createElement("style");return e.appendChild(document.createTextNode("")),document.head.appendChild(e),e.sheet}(),onLoadResizeDelay=sliderSnapDuration;sizeIS=function(){(lastHeight>window.getSize().y+50||lastHeight<window.getSize().y-50||lastWidth!=window.getSize().x)&&(sliderBox.setStyle("opacity",0),function(){sliderBox.tween("opacity",1)}.delay(onLoadResizeDelay),onLoadResizeDelay=2*sliderSnapDuration+250,windowWidth=docB.getSize().x,windowHeight=docB.getSize().y,pagePreviewHeight=windowHeight/3.5,function(){sliderBox.setStyles({width:windowWidth*imageTotal,padding:"0 "+windowWidth/4+"px"}),sliderSnap.start(currentSlide*windowWidth+windowWidth/4,0)}.delay(600),imageAligner.each(function(e,i){if(windowWidth/windowHeight<imageRatio[i]){sliderImage[i].setStyles({height:"auto",width:"100%"}),mtop=(windowHeight-windowWidth/imageRatio[i])/2,e.setStyles({width:windowWidth,"margin-top":mtop}),sliderBlock[i].addClass("wide");var t=imageRatio[i]/windowWidth*windowHeight;sliderImage[i].setStyles({"-webkit-transform":"scale("+t+","+t+")",msTransform:"scale("+t+","+t+")","-moz-transform":"scale("+t+","+t+")",transform:"scale("+t+","+t+")"}),1==viewToggle&&(sliderImage.removeClass("zoomedOut"),sliderEl.removeClass("fullScreen"),detailsBlock.removeClass("fullScreen"))}else{sliderImage[i].setStyles({height:"",width:""}),e.setStyles({width:imageRatio[i]*windowHeight,"margin-top":""}),sliderBlock[i].removeClass("wide");var t=windowWidth/(imageRatio[i]*windowHeight);sliderImage[i].setStyles({"-webkit-transform":"scale("+t+","+t+") translateY("+sliderImageZoomOffsetY[i]+"%)",msTransform:"scale("+t+","+t+") translateY("+sliderImageZoomOffsetY[i]+"%)","-moz-transform":"scale("+t+","+t+") translateY("+sliderImageZoomOffsetY[i]+"%)",transform:"scale("+t+","+t+") translateY("+sliderImageZoomOffsetY[i]+"%)"}),1==viewToggle&&(sliderImage.removeClass("zoomedOut"),sliderEl.removeClass("fullScreen"),detailsBlock.removeClass("fullScreen"))}822>windowWidth?$$(".imageDetails").each(function(e,i){var t=$$(".imageDetails section.eCom")[i];t.remove(),t.inject(e,"bottom")}):$$(".imageDetails").each(function(e,i){var t=$$(".imageDetails section.eCom")[i];t.remove(),t.inject(e,"top")})}),previewDecor(),lastHeight=window.getSize().y,lastWidth=window.getSize().x)},sizeISNow=function(){sliderEl.setStyle("height",docB.getSize().y)},sizeISNow();var detailsH1=$$(".imageDetails h1"),detailsEcom=$$(".imageDetails section.eCom"),detailsRestructured=[],responsive,mql=window.matchMedia("(orientation: portrait)");mql.addListener(function(){sizeIS(),sizeISNow()}),window.addEvents({resize:sizeISNow,orientationchange:function(){sizeIS(),sizeISNow()},resizeend:function(){sizeIS(),sizeISNow()},scrollend:function(){iPh&&t&&(sizeIS(),sizeISNow())},keyup:function(e){switch(sliderSnap.cancel(),e.key){case"right":imageTotal-1>currentSlide&&currentSlide++,sliderSnap.start(currentSlide*windowWidth+windowWidth/4,0);break;case"left":currentSlide>0&&currentSlide--,sliderSnap.start(currentSlide*windowWidth+windowWidth/4,0)}},toggletap:function(){1==viewToggle?fullScreenView():windowedScreenView()},keydown:function(){}}),sliderRightArrow.addEvent("click",function(e){e.stop(),sliderSnap.cancel(),imageTotal-1>currentSlide&&currentSlide++,sliderSnap.start(currentSlide*windowWidth+windowWidth/4,0)}),sliderLeftArrow.addEvent("click",function(e){e.stop(),sliderSnap.cancel(),currentSlide>0&&currentSlide--,sliderSnap.start(currentSlide*windowWidth+windowWidth/4,0)}),detailsEl.dispose(),detailsEl.inject(detailsBlock),$$(".buyPrint").each(function(e,i){e.clone().inject(detailsEl[i],"bottom"),$$(".royaltiesBreakdown")[i].inject(detailsEl[i],"bottom")}),previewDecor=function(){gtr=productImage[currentSlide].getSize().x/24,console.log("resize product preview gutter to: "+gtr),productImage[currentSlide]&&loadThisImage()&&((productImage[currentSlide].get("src").contains("blank.gif")||""==productImage[currentSlide].get("src"))&&productImage[currentSlide].set("src",loadThisImage()),isNaN(gtr)||(productImage[currentSlide].setStyles({"background-image":"url(/images/content/pages/product-gutter.png)","max-width":productImage[currentSlide].getParent("figure").getSize().x-Math.sqrt(2)*(gtr+Math.sqrt(gtr))+"px"}),productImage[currentSlide].getParent("figure").hasClass("portrait")?(gtr=productImage[currentSlide].getSize().x/24,productImage[currentSlide].setStyles({padding:gtr+"px","background-size":"calc("+gtr+"px * 8.5)"})):(gtr=productImage[currentSlide].getSize().y/24,productImage[currentSlide].setStyles({padding:gtr+"px","background-size":"calc("+gtr+"px * 8.5)"}))))};var productHeader=new Element("h3",{html:"Print preview:"});$$(".imageDetails .storyContent").each(function(e,i){productDetails.clone().inject(e,"before"),i==imageTotal-1&&productDetails.dispose()}),$$(".statsAndShare")[0]&&$$(".imageDetails > h1").each(function(e,i){socialEl.clone().inject(e,"after"),i==imageTotal-1&&socialEl.dispose()}),$$(".shippingInfo").set("html",'<a href="javascript:void(0);" title="Click to change your shipping country" class="changeCountry"><img src="/design/blank.gif" alt="Country flag" class="countryFlag" />Shipping <span class="userCountry loadingContainer">&nbsp;&nbsp;&nbsp;&nbsp;</span>: $<span class="shipPrice">...</span></a><br /><small class="shipInfo">From Madison, WI, USA<br />Delivered within 2 - 3 weeks<br />All prices are in <strong>US dollars</strong></small>');var touchInitPoint,windowInitPosition;sliderEl.addEvents({mousedown:function(e){e.stop(),sliderSnap.cancel(),sliderInitPosition=this.getScroll().x,sliderPointerDown=!0,sliderPointerInit=e.client.x,touchInitPoint=e.client.y},touchstart:function(e){1!=e.changedTouches.length||pinchZoomedIn()||(sliderSnap.cancel(),sliderInitPosition=this.getScroll().x,sliderPointerDown=!0,sliderPointerInit=e.client.x,windowInitPosition=window.getScroll().y,touchInitPoint=e.client.y)},mousemove:function(e){e.stop(),sliderPointerDown&&(scrollToPosition=sliderPointerInit-e.client.x+sliderInitPosition,this.scrollTo(scrollToPosition,0),0==scrollToPosition&&sliderSnap.start(currentSlide*windowWidth+windowWidth/4,0),scrollToPosition==windowWidth*imageTotal-windowWidth+windowWidth/2&&sliderSnap.start(currentSlide*windowWidth+windowWidth/4,0))},touchmove:function(e){1==e.touches.length&&!pinchZoomedIn()&&Math.abs(sliderPointerInit-e.client.x)/windowWidth>Math.abs(touchInitPoint-e.client.y-windowInitPosition)/windowHeight&&(e.stop(),scrollToPosition=sliderPointerInit-e.client.x+sliderInitPosition,this.scrollTo(scrollToPosition,0),0==scrollToPosition&&sliderSnap.start(currentSlide*windowWidth+windowWidth/4,0),scrollToPosition==windowWidth*imageTotal-windowWidth+windowWidth/2&&sliderSnap.start(currentSlide*windowWidth+windowWidth/4,0))},mouseup:function(e){sliderPointerDown=!1,Math.abs(sliderPointerInit-e.client.x)>40&&(sliderInitPosition>scrollToPosition?currentSlide--:currentSlide++,0>currentSlide&&(currentSlide=0),currentSlide>=imageTotal&&(currentSlide=imageTotal-1)),sliderSnap.start(currentSlide*windowWidth+windowWidth/4,0),Math.abs(sliderPointerInit-e.client.x)<=3&&Math.abs(touchInitPoint-e.client.y)<=3&&(windowSnap.start(0,0),window.fireEvent("toggletap"))},touchend:function(e){1!=e.changedTouches.length||pinchZoomedIn()||(sliderPointerDown=!1,void 0==e.client.x||void 0==e.client.y?(e_client_x=e.changedTouches[0].clientX,e_client_y=e.changedTouches[0].clientY):(e_client_x=e.client.x,e_client_y=e.client.y),Math.abs(sliderPointerInit-e_client_x)>40&&(sliderInitPosition>scrollToPosition?currentSlide--:currentSlide++,0>currentSlide&&(currentSlide=0),currentSlide>=imageTotal&&(currentSlide=imageTotal-1)),sliderSnap.start(currentSlide*windowWidth+windowWidth/4,0),Math.abs(sliderPointerInit-e_client_x)<=3&&Math.abs(touchInitPoint-e_client_y)<=3&&(e.stop(),windowSnap.start(0,0),window.fireEvent("toggletap")))}});var usShipping="5",caShipping="10",defaultShipping="18",ipCountry,ipCountryCode,changeCountry=$$(".changeCountry"),userCountry=$$(".userCountry"),countryFlag=$$(".countryFlag"),shipPrice=$$(".shipPrice");changeCountry.addEvent("click",function(e){e.stop(),function(){changeCountry.removeClass("active")}.delay(100);var i=userCountry[0].get("html");switch(i){case"to "+ipCountry:if("to Canada"!=ipCountry){userCountry.set("html","to Canada"),countryFlag.set("src","/design/isoFlags-32/CA.png"),shipPrice.set("html",caShipping);break}case"to Canada":if("to USA"!=ipCountry){userCountry.set("html","to USA"),countryFlag.set("src","/design/isoFlags-32/US.png"),shipPrice.set("html",usShipping);break}case"to USA":case"to Canada":userCountry.set("html","Worldwide"),countryFlag.set("src","/design/isoFlags-32/_united-nations.png"),shipPrice.set("html",defaultShipping);break;case"Worldwide":userCountry.set("html","to "+ipCountry),countryFlag.set("src","/design/isoFlags-32/"+ipCountryCode+".png"),setIpShipping(ipCountryCode)}}),window.addEvents({toggletap:function(){0==viewToggle&&window.getScroll().y<=100&&(hideHeader||Function)(),1==viewToggle&&window.getScroll().y<=100&&(showHeader||Function)()},scrollend:function(){window.getScroll().y<300&&0==viewToggle&&t&&function(){(hideHeader||Function)()}.delay(5)},scroll:function(){window.getScroll().y<300&&0==viewToggle&&!t&&function(){(hideHeader||Function)()}.delay(5)},resize:function(){},pushstate:function(){}}),window.addEvent("firstImageLoaded",function(){Asset.javascript("https://checkout.stripe.com/checkout.js",{onLoad:function(){$$(".sale")[0]&&$$(".sale").addEvent("click",function(){$$(".buyPrint")[currentSlide].fireEvent("click")}),purchasePrint=function(){$$(".buyPrint")[currentSlide].fireEvent("click")},$$(".buyPrint").removeClass("loadingContainer").addEvent("click",function(){function e(){(function(){activeBuyPrintButton.addClass("animateAll").removeClass("active"),function(){activeBuyPrintButton.removeClass("animateAll")}.delay(500)}).delay(1e4)}activeBuyPrintButton=this,e();var i=100*parseFloat(shipPrice[currentSlide].get("html").stripTags());isNaN(i)&&(i=parseFloat(defaultShipping.stripTags()));var t=100*Math.round(parseFloat(detailsEl[currentSlide].getElements(".printPrice")[0].get("html").stripTags()))+i,n=sliderTitles[currentSlide],r="$"+t/100+" (including shipping)",o='"'+n+'" Print',a=function(e,i){var r=new Element("input",{name:"order-token",value:e.id}),a=new Element("input",{name:"order-email",value:e.email}),l=new Element("input",{name:"order-customer",value:"Ship to: "+i.shipping_address_line1+" "+i.shipping_address_city+" "+i.shipping_address_state+" "+i.shipping_address_zip+" "+i.shipping_address_country}),s=new Element("input",{name:"order-description",value:n+": "+o}),d=new Element("input",{name:"order-amount",value:t}),c=new Element("form",{action:"/order/",method:"POST"});c.adopt(r,a,l,s,d,printTitle).submit()};StripeCheckout.open({key:"pk_live_GazfSGLrdsRWa27pq8rLnOHj",shippingAddress:!0,billingAddress:!1,amount:t,currency:"USD",name:o,description:r,token:a})})}}),new Request.JSONP({url:"https://freegeoip.net/json/"+visitorIP,onComplete:function(e){ipCountry=e.country_name,ipCountryCode=e.country_code,userCountry.set("html","to "+ipCountry).addClass("set").removeClass("loadingContainer"),countryFlag.set("src","/design/isoFlags-32/"+ipCountryCode+".png").addClass("set"),setIpShipping(ipCountryCode)}}).send(),function(){void 0==ipCountry&&(ipCountry="Worldwide",ipCountryCode="_united-nations",userCountry.set("html",ipCountry).addClass("set").removeClass("loadingContainer"),countryFlag.set("src","/design/isoFlags-32/"+ipCountryCode+".png").addClass("set"),function(){setIpShipping(ipCountryCode)}())}.delay(7e3),$$("img.security").each(function(e){e.set("src",e.get("data-image"))}),$$(".acceptedCards").each(function(e){e.set("src",e.get("data-image"))})}),domready=!0,sliderSnap.start(currentSlide*windowWidth+windowWidth/4,0),sliderBox.addClass("init"),sizeIS()}